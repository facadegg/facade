log = f"""\
2023-04-15 15:34:00.035823-0400 Lens[22615:353945] 2023-04-15 15:34:00.035688 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'neck.lateral_layers.2.bn.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.035876-0400 Lens[22615:353945] 2023-04-15 15:34:00.035844 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'neck.lateral_layers.1.bn.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.035911-0400 Lens[22615:353945] 2023-04-15 15:34:00.035880 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'neck.deconv_layers.2.bn.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.035944-0400 Lens[22615:353945] 2023-04-15 15:34:00.035914 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'neck.deconv_layers.1.bn.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.035979-0400 Lens[22615:353945] 2023-04-15 15:34:00.035949 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'backbone.features.9.conv.7.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.036013-0400 Lens[22615:353945] 2023-04-15 15:34:00.035983 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'backbone.features.9.conv.1.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.036047-0400 Lens[22615:353945] 2023-04-15 15:34:00.036017 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'backbone.features.8.conv.7.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.036080-0400 Lens[22615:353945] 2023-04-15 15:34:00.036050 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'backbone.features.8.conv.4.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.036114-0400 Lens[22615:353945] 2023-04-15 15:34:00.036084 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'backbone.features.7.conv.7.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.036148-0400 Lens[22615:353945] 2023-04-15 15:34:00.036118 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'backbone.features.6.conv.4.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.036182-0400 Lens[22615:353945] 2023-04-15 15:34:00.036152 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'backbone.features.6.conv.1.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.036215-0400 Lens[22615:353945] 2023-04-15 15:34:00.036185 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'backbone.features.5.conv.7.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.036260-0400 Lens[22615:353945] 2023-04-15 15:34:00.036229 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'backbone.features.4.conv.7.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.036294-0400 Lens[22615:353945] 2023-04-15 15:34:00.036264 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'backbone.features.4.conv.1.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.036328-0400 Lens[22615:353945] 2023-04-15 15:34:00.036298 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'backbone.features.3.conv.1.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.036362-0400 Lens[22615:353945] 2023-04-15 15:34:00.036332 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'backbone.features.2.conv.7.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.036397-0400 Lens[22615:353945] 2023-04-15 15:34:00.036367 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'neck.lateral_layers.3.bn.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.036431-0400 Lens[22615:353945] 2023-04-15 15:34:00.036401 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'backbone.features.17.conv.7.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.036466-0400 Lens[22615:353945] 2023-04-15 15:34:00.036436 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'backbone.features.16.conv.1.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.036500-0400 Lens[22615:353945] 2023-04-15 15:34:00.036470 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'backbone.features.1.conv.4.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.036533-0400 Lens[22615:353945] 2023-04-15 15:34:00.036503 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'backbone.features.15.conv.7.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.036566-0400 Lens[22615:353945] 2023-04-15 15:34:00.036536 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'backbone.features.17.conv.1.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.036599-0400 Lens[22615:353945] 2023-04-15 15:34:00.036569 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'backbone.features.15.conv.4.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.036632-0400 Lens[22615:353945] 2023-04-15 15:34:00.036603 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'backbone.features.11.conv.1.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.036665-0400 Lens[22615:353945] 2023-04-15 15:34:00.036636 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'backbone.features.17.conv.4.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.036698-0400 Lens[22615:353945] 2023-04-15 15:34:00.036668 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'backbone.features.15.conv.1.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.036737-0400 Lens[22615:353945] 2023-04-15 15:34:00.036707 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'backbone.features.5.conv.1.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.036770-0400 Lens[22615:353945] 2023-04-15 15:34:00.036741 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'backbone.features.2.conv.4.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.036804-0400 Lens[22615:353945] 2023-04-15 15:34:00.036774 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'backbone.features.14.conv.7.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.036836-0400 Lens[22615:353945] 2023-04-15 15:34:00.036807 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'backbone.features.4.conv.4.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.036869-0400 Lens[22615:353945] 2023-04-15 15:34:00.036839 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'backbone.features.14.conv.4.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.036903-0400 Lens[22615:353945] 2023-04-15 15:34:00.036873 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'backbone.features.14.conv.1.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.036936-0400 Lens[22615:353945] 2023-04-15 15:34:00.036906 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'backbone.features.6.conv.7.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.036970-0400 Lens[22615:353945] 2023-04-15 15:34:00.036939 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'head.feat_bn.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.037002-0400 Lens[22615:353945] 2023-04-15 15:34:00.036973 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'backbone.features.7.conv.1.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.037036-0400 Lens[22615:353945] 2023-04-15 15:34:00.037006 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'backbone.features.13.conv.4.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.037070-0400 Lens[22615:353945] 2023-04-15 15:34:00.037040 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'backbone.features.13.conv.1.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.037103-0400 Lens[22615:353945] 2023-04-15 15:34:00.037073 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'backbone.features.1.conv.1.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.037135-0400 Lens[22615:353945] 2023-04-15 15:34:00.037105 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'backbone.features.12.conv.1.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.037168-0400 Lens[22615:353945] 2023-04-15 15:34:00.037138 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'backbone.features.12.conv.7.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.037207-0400 Lens[22615:353945] 2023-04-15 15:34:00.037176 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'backbone.features.13.conv.7.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.037241-0400 Lens[22615:353945] 2023-04-15 15:34:00.037211 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'backbone.features.5.conv.4.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.037273-0400 Lens[22615:353945] 2023-04-15 15:34:00.037244 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'backbone.features.16.conv.4.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.037309-0400 Lens[22615:353945] 2023-04-15 15:34:00.037280 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'backbone.features.9.conv.4.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.037345-0400 Lens[22615:353945] 2023-04-15 15:34:00.037316 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'backbone.features.12.conv.4.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.037378-0400 Lens[22615:353945] 2023-04-15 15:34:00.037349 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'backbone.features.10.conv.7.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.037411-0400 Lens[22615:353945] 2023-04-15 15:34:00.037381 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'backbone.features.11.conv.7.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.037444-0400 Lens[22615:353945] 2023-04-15 15:34:00.037414 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'backbone.features.2.conv.1.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.037478-0400 Lens[22615:353945] 2023-04-15 15:34:00.037448 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'backbone.features.11.conv.4.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.037510-0400 Lens[22615:353945] 2023-04-15 15:34:00.037480 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'backbone.features.7.conv.4.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.037543-0400 Lens[22615:353945] 2023-04-15 15:34:00.037514 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'backbone.features.10.conv.4.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.037576-0400 Lens[22615:353945] 2023-04-15 15:34:00.037546 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'backbone.features.16.conv.7.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.037609-0400 Lens[22615:353945] 2023-04-15 15:34:00.037580 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'backbone.features.3.conv.7.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.037642-0400 Lens[22615:353945] 2023-04-15 15:34:00.037612 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'backbone.features.3.conv.4.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.037682-0400 Lens[22615:353945] 2023-04-15 15:34:00.037651 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'backbone.features.10.conv.1.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.037715-0400 Lens[22615:353945] 2023-04-15 15:34:00.037685 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'neck.deconv_layers.0.bn.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.037749-0400 Lens[22615:353945] 2023-04-15 15:34:00.037719 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'neck.lateral_layers.0.bn.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.037784-0400 Lens[22615:353945] 2023-04-15 15:34:00.037754 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'backbone.features.8.conv.1.num_batches_tracked'. It is not used by any node and should be removed from the model.
2023-04-15 15:34:00.037817-0400 Lens[22615:353945] 2023-04-15 15:34:00.037787 [W:onnxruntime:, graph.cc:3543 CleanUnusedInitializersAndNodeArgs] Removing initializer 'backbone.features.0.1.num_batches_tracked'. It is not used by any node and should be removed from the model."""

import onnx
import re

def find_node_by_name(name: str, model: onnx.ModelProto):
    return [x for x in model.graph.node if x.name == name][0]


def find_initializer_by_name(name: str, model: onnx.ModelProto):
    return [x for x in model.graph.initializer if x.name == name][0]


if __name__ == "__main__":
    model = onnx.load('/opt/facade/CenterFace640x480.onnx')
    names = list(map(lambda l: re.findall(f"'.+'", l)[0][1:-1], log.splitlines()))

    for name in names:
        init = find_initializer_by_name(name, model)
        model.graph.initializer.remove(init)

    print(model.graph.input)

    onnx.save(model, '/opt/facade/CenterFace640x480-cleaned.onnx')
